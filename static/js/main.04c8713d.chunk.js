(this["webpackJsonpex3-firestore"]=this["webpackJsonpex3-firestore"]||[]).push([[0],{53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},71:function(e,t,c){},73:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(27),r=c.n(a),i=c(21),o=(c(53),c(54),c(12));c(55);var j=c(44),l=c.n(j),u=c(89),b=(c(56),c(2));function d(e){var t=function(e){var t={nbArticles:0,totalItems:0,st:0,tps:0,tvq:0,total:0};t.nbArticles=e.length,t.totalItems=e.reduce((function(e,t){return e+t.qte}),0);var c=e.reduce((function(e,t){return e+t.prix*t.qte}),0);t.st=c.toFixed(2);var n=.05*c;t.tps=n.toFixed(2);var s=.09975*c;return t.tvq=s.toFixed(2),t.total=(c+n+s).toFixed(2),t}(e.articles);return Object(b.jsxs)("div",{className:"SommairePanier",children:[Object(b.jsxs)("span",{children:["Articles diff\xe9rents : ",t.nbArticles]}),Object(b.jsxs)("span",{children:["Total # items : ",t.totalItems]}),Object(b.jsxs)("span",{children:["Sous-total : ",t.st]}),Object(b.jsxs)("span",{children:["TPS : ",t.tps]}),Object(b.jsxs)("span",{children:["TVQ : ",t.tvq]}),Object(b.jsxs)("span",{children:["Total : ",t.total]})]})}function O(e){var t=e.etatPanier,c=Object(o.a)(t,1)[0],s=Object.values(c),a=Object(n.useState)(!1),r=Object(o.a)(a,2),j=r[0],O=r[1];return Object(b.jsxs)("header",{className:"Entete",children:[Object(b.jsx)("div",{className:"logo",children:Object(b.jsx)(i.b,{to:"/",children:"Magasin"})}),Object(b.jsxs)("ul",{className:"navPrincipale",children:[Object(b.jsx)("li",{children:Object(b.jsx)(i.c,{to:"/nos-produits",activeClassName:"navActive",children:"Produits"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.c,{to:"/a-propos-de-nous",activeClassName:"navActive",children:"\xc0 propos de nous"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.c,{to:"/contactez-nous",activeClassName:"navActive",children:"Contactez-nous"})})]}),Object(b.jsxs)("ul",{className:"navUtilisateur",children:[Object(b.jsxs)("li",{children:[Object(b.jsx)(u.a,{onClick:function(){return O(!j)},badgeContent:s.reduce((function(e,t){return e+t.qte}),0),color:"secondary",children:Object(b.jsx)(l.a,{})}),j&&Object(b.jsx)(d,{articles:s})]}),Object(b.jsx)("li",{children:"Mon compte"})]})]})}var x=c(37),p=c.n(x),h=c(19),f=c(45),v=(c(67),c(18));c(68);function m(e){var t=e.onClick,c=e.qte,n=e.texte,s=e.classeCss;return Object(b.jsx)(u.a,{badgeContent:c,color:"primary",children:Object(b.jsx)("button",{onClick:t,className:"BtnAjoutPanier ".concat(s),children:n})})}var g=c(46),N=c.n(g);c(69);function P(e){var t=e.etatPanier,c=e.id,n=e.nom,s=e.prix,a=Object(o.a)(t,2),r=a[0],i=a[1];var j=r[c]?[r[c].qte,Object(b.jsx)(N.a,{}),"rouge"]:[0,"Ajouter au panier",""],l=Object(o.a)(j,3),u=l[0],d=l[1],O=l[2];return Object(b.jsxs)("li",{className:"Produit",children:[Object(b.jsx)("img",{src:"images-produits/"+c+".webp",alt:""}),Object(b.jsxs)("div",{className:"info",children:[Object(b.jsx)("p",{className:"nom",children:n}),Object(b.jsx)("p",{className:"prix",children:s})]}),Object(b.jsx)(m,{onClick:function(){r[c]?i(Object(h.a)(Object(h.a)({},r),{},Object(v.a)({},c,Object(h.a)(Object(h.a)({},r[c]),{},{qte:r[c].qte+1})))):i(Object(h.a)(Object(h.a)({},r),{},Object(v.a)({},c,{nom:n,prix:s,qte:1})))},qte:u,texte:d,classeCss:O})]})}var S=c(31);c(74);S.a.apps.length||S.a.initializeApp({apiKey:"AIzaSyDEpJ6DUSbSSh8Xa9lfVOxvhGFnTrmb8ss",authDomain:"fir-5391b.firebaseapp.com",projectId:"fir-5391b",storageBucket:"fir-5391b.appspot.com",messagingSenderId:"21942816949",appId:"1:21942816949:web:82382437738ca6d4776efc"});var A=S.a.firestore();function C(e){var t=Object(n.useState)([]),c=Object(o.a)(t,2),s=c[0],a=c[1];return Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,A.collection("Firestore").get();case 3:e.sent.forEach((function(e){return t.push(Object(h.a)({id:e.id},e.data()))})),console.log(t),a(t),console.log(s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(b.jsxs)("div",{className:"ListeProduits",children:[Object(b.jsx)("h2",{children:"Produits disponibles"}),Object(b.jsx)("ul",{children:s.map((function(t){return Object(b.jsx)("li",{children:Object(b.jsx)(P,Object(h.a)({etatPanier:e.etatPanier},t))},t.id)}))})]})}function w(){return Object(b.jsxs)("div",{className:"Accueil",children:[Object(b.jsx)("h2",{children:"Magasin"}),Object(b.jsx)("p",{children:"Page d'accueil en construction"})]})}function q(){return Object(b.jsxs)("div",{className:"Apropos",children:[Object(b.jsx)("h2",{children:"\xc0 propos de nous"}),Object(b.jsx)("p",{children:"Patati et patata"})]})}function I(){return Object(b.jsxs)("div",{className:"Contact",children:[Object(b.jsx)("h2",{children:"Contactez-nous"}),Object(b.jsx)("p",{children:"Formulaire de contact \xe0 venir"})]})}c(71);var k=(new Date).getFullYear();function y(e){return Object(b.jsxs)("footer",{className:"PiedDePage",children:["\xa9",k," - TIM - Tous droits r\xe9serv\xe9s."]})}var F=c(5);function T(){var e=function(e,t){var c=Object(n.useState)((function(){return JSON.parse(window.localStorage.getItem(t))||e})),s=Object(o.a)(c,2),a=s[0],r=s[1];return Object(n.useEffect)((function(){return window.localStorage.setItem(t,JSON.stringify(a))}),[a,t]),[a,r]}({},"pvt-ex3-panier");return Object(b.jsxs)("div",{className:"Appli",children:[Object(b.jsx)(O,{etatPanier:e}),Object(b.jsx)("section",{className:"contenuPrincipal",children:Object(b.jsxs)(F.c,{children:[Object(b.jsx)(F.a,{path:"/",component:w,exact:!0}),Object(b.jsx)(F.a,{path:"/nos-produits",children:Object(b.jsx)(C,{etatPanier:e,exact:!0})}),Object(b.jsx)(F.a,{path:"/a-propos-de-nous",exact:!0,children:Object(b.jsx)(q,{})}),Object(b.jsx)(F.a,{path:"/contactez-nous",component:I,exact:!0})]})}),Object(b.jsx)(y,{})]})}var z=-1!==window.location.href.search(/github\.io/)?"/".concat("pvt-ex3-firestore"):"";r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(i.a,{basename:z,children:Object(b.jsx)(T,{})})}),document.getElementById("racine"))}},[[73,1,2]]]);
//# sourceMappingURL=main.04c8713d.chunk.js.map